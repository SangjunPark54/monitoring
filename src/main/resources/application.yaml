spring:
  application:
    name: monitoring-proxy

server:
  port: 8080
  compression:
    enabled: true
    mime-types: application/json,application/xml,text/html,text/xml,text/plain
    min-response-size: 1024
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html

management:
  endpoints:
    web:
      exposure:
        include: prometheus
  endpoint:
    prometheus:
      enabled : true
logging:
  level:
    org.springdoc: DEBUG
    io.swagger.v3: DEBUG

openapi:
  service:
    url: http://localhost:${server.port}

#  ep-oss:
#    - http://localhost:10003/metrics # nginx-ingress-controller
#    - http://localhost:10002/metrics # kube-state-metrics Don't Need in here.

zcp:
  token: eyJhbGciOiJSUzI1NiIsImtpZCI6IlJCTE1lT3NUUWFpZVhmRzVKazRWOThnblZ1T3ExdE1YWUpJTkZzM1RPREEifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJ6Y3Atc3lzdGVtIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZWNyZXQubmFtZSI6InpjcC1tY20tYmFja2VuZC1zZXJ2aWNlLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6InpjcC1tY20tYmFja2VuZC1zZXJ2aWNlLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMTkyZWQ1YzUtOTQ0YS00OGI2LTk3MWYtNTRjNTg5NGEyMGFlIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50OnpjcC1zeXN0ZW06emNwLW1jbS1iYWNrZW5kLXNlcnZpY2UtYWRtaW4ifQ.Q2BRCaDezoXzgUgGGBcfWrFgoaFO-th3GXxUmuZfJKwa_Gk03754IZmbX3yI1psXa6LfVv60CgHHraamKyFLuAjQfjlAEd55PnpaobSQHSjrA-2Vuz4SzC0QB_0yIThRdmejv8DdvF2x7RvWh0GADW56G6IuX5MEPdqZTHT8pjvROvhIHEz5w3z5TXsZB-ipKOmAnkCzX0zSg6Xj2y28o9N3XvimBambfa0ZIxm0jqI28RfIUXp7TozoIGqBbrTVZ5YCfqxNS2wYy2bd4RtBm3ksCy94JptwDBsLK4qe6OAAIeaSlwnt5MzbtxK61fuIZbXYaA7yPQwJ0EETP6tzUw
  realm: ags
  endpoints:
    k8s:
      - https://kubernetes.docker.internal:6443
    nginx:
      - http://private-ingress-nginx-controller-metrics.kube-system.svc:10254
    cert:
      - http://zcp-cert-manager.cert-manager.svc:9042
    tekton:
      - http://tekton-pipelines-controller.cicd.svc:9090
      - http://tekton-pipelines-webhook.cicd.svc:9090
    harbor:
      - http://ags-registry-harbor-core.ags-system.svc:8001
      - http://ags-registry-harbor-exporter.ags-system.svc:8001
      - http://ags-registry-harbor-jobservice.ags-system.svc:8001
      - http://ags-registry-harbor-registry.ags-system.svc:8001
    argocd:
      - http://platform-argocd-application-controller-metrics.argocd.svc:8082
      - http://platform-argocd-server-metrics.argocd.svc:8083
      - http://platform-argocd-repo-server.argocd.svc:8081
      - http://platform-argocd-dex-server.argocd.svc:5558
      - http://platform-argocd-repo-server.argocd.svc:8081
      - http://ags-argocd-application-controller-metrics.ags-system.svc:8082
      - http://ags-argocd-server-metrics.ags-system.svc:8083
      - http://ags-argocd-repo-server.ags-system.svc:8081
      - http://ags-argocd-dex-server.ags-system.svc:5558
      - http://ags-argocd-repo-server.ags-system.svc:8081
    loki:
      - http://loki-read.logging.svc:3100
      - http://loki-write.logging.svc:3100
      - http://loki-backend.logging.svc:3100

  grantMetric:
    kubeCadvisor:
      - container_cpu_usage_seconds_total
      - container_fs_limit_bytes
      - container_fs_reads_bytes_total
      - container_fs_usage_bytes
      - container_fs_writes_bytes_total
      - container_memory_rss
      - container_memory_usage_bytes
      - container_memory_working_set_bytes
      - container_network_receive_bytes_total
      - container_network_receive_errors_total
      - container_network_transmit_bytes_total
      - container_network_transmit_errors_total

    kubeResource: #메트릭을 아직 사용 안함.
      - container_cpuUsage_seconds_total
      - container_memory_working_set_bytes
      - container_start_time_seconds
      - node_cpu_usage_seconds_total
      - node_memory_working_set_bytes
      - pod_cpu_usage_seconds_total
      - pod_memory_working_set_bytes
      - resource_scrape_error
      - scrape_error
    kubeProbes:
#      - prober_probe_duration_seconds_bucket
#      - prober_probe_duration_seconds_sum
#      -
    kubeMetric: # apiserver, authentication, etcd, process
      - apiserver_request_total
      - apiserver_request_duration_seconds_count
      - apiserver_request_duration_seconds_sum
      - apiserver_request_duration_seconds_bucket
      - kubernetes_build_info
      - process_cpu_seconds_total
      - process_open_fds
      - process_resident_memory_bytes
      - process_start_time_seconds
      - workqueue_adds_total
      - workqueue_depth
      - workqueue_queue_duration_seconds_bucket
    kubeNodeMetric:
      - kubelet_cgroup_manager_duration_seconds_bucket
      - kubelet_cgroup_manager_duration_seconds_count
      - kubelet_pleg_relist_duration_seconds_bucket
      - kubelet_pleg_relist_duration_seconds_count
      - kubelet_pleg_relist_interval_seconds_bucket
      - kubelet_pod_start_duration_seconds_count
      - kubelet_pod_start_duration_seconds_sum
      - kubelet_pod_worker_duration_seconds_bucket
      - kubelet_pod_worker_duration_seconds_count
      - kubelet_running_containers
      - kubelet_running_pods
      - kubelet_runtime_operations_duration_seconds_bucket
      - kubelet_runtime_operations_errors_total
      - kubelet_runtime_operations_total
      - process_cpu_seconds_total
      - process_open_fds
      - process_resident_memory_bytes
      - process_start_time_seconds
      - rest_client_request_duration_seconds_bucket
      - rest_client_requests_total
      - storage_operation_duration_seconds_bucket
      - storage_operation_duration_seconds_count
      - volume_manager_total_volumes
      - workqueue_adds_total
      - workqueue_depth
      - workqueue_queue_duration_seconds_bucket
    kube-state-metrics: #Not used in this app.
      - kube_persistentvolumeclaim_status_phase
      - kube_persistentvolumeclaim_info
      - kube_storageclass_info
      - kube_node_status_condition
      - kube_node_role
      - kube_node_created
      - kube_node_info
      - kube_pod_info
      - kube_node_status_capacity
      - kube_node_status_allocatable
      - kube_namespace_created
      - kube_pod_container_info
      - kube_namespace_status_phase
      - kube_resourcequota
      - kube_limitrange
      - kube_node_status_allocatable_cpu_cores
      - kube_node_status_capacity_cpu_cores
      - kube_node_status_allocatable_memory_bytes
      - kube_node_status_capacity_memory_bytes
      - kube_pod_container_resource_requests_cpu_cores
      - kube_pod_status_phase
      - kube_pod_container_resource_limits_cpu_cores
      - kube_pod_container_resource_requests_memory_bytes
      - kube_pod_container_resource_limits_memory_bytes
      - kube_node_status_allocatable_pods
      - kube_node_spec_unschedulable
      - kube_event_count
      - kube_statefulset_replicas
      - kube_statefulset_status_replicas
      - kube_statefulset_status_replicas_current
      - kube_statefulset_status_replicas_ready
      - kube_statefulset_status_replicas_updated
      - kube_statefulset_created
      - kube_job_spec_parallelism
      - kube_job_spec_completions
      - kube_job_failed
      - kube_job_complete
      - kube_job_status_start_time
      - kube_job_status_active
      - kube_job_status_failed
      - kube_job_status_succeeded
      - kube_pod_container_status_ready
      - kube_pod_container_status_restarts_total
      - kube_pod_created
      - kube_pod_start_time
      - kube_pod_container_status_last_terminated_reason
      - kube_pod_container_status_waiting_reason
      - kube_pod_container_status_terminated_reason
      - kube_pod_spec_volumes_persistentvolumeclaims_info
      - kube_replicaset_spec_replicas
      - kube_replicaset_status_replicas
      - kube_replicaset_status_ready_replicas
      - kube_replicaset_created
      - kube_replicaset_metadata_generation
      - kube_replicaset_status_observed_generation
      - kube_replicaset_status_fully_labeled_replicas
      - kube_deployment_status_replicas_unavailable
      - kube_cronjob_info
      - kube_cronjob_spec_suspend
      - kube_cronjob_status_active
      - kube_cronjob_status_last_schedule_time
      - kube_cronjob_next_schedule_time
      - kube_cronjob_created
      - kube_job_owner
      - kube_daemonset_status_desired_number_scheduled
      - kube_daemonset_status_current_number_scheduled
      - kube_daemonset_status_number_ready
      - kube_daemonset_updated_number_scheduled
      - kube_daemonset_status_number_available
      - kube_daemonset_created
      - kube_daemonset_status_number_unavailable
      - kube_daemonset_status_number_misscheduled
      - kube_deployment_status_replicas_available
      - kube_deployment_created
      - kube_job_created
      - kube_deployment_spec_replicas
      - kube_deployment_status_replicas_updated
      - kube_deployment_metadata_generation
      - kube_deployment_status_observed_generation
      - kube_deployment_spec_paused
      - kube_deployment_status_replicas
      - kube_deployment_status_condition
      - kube_persistentvolumeclaim_labels
    mysql:
      - mysql_global_status_queries
      - mysql_global_status_threads_connected
      - mysql_global_status_max_used_connections
      - mysql_global_variables_max_connections
      - mysql_global_status_threads_running
      - mysql_global_status_questions
      - mysql_global_variables_thread_cache_size
      - mysql_global_status_threads_cached
      - mysql_global_status_threads_created
      - mysql_global_status_flush_commands
      - mysql_global_status_created_tmp_tables
      - mysql_global_status_created_tmp_disk_tables
      - mysql_global_status_created_tmp_files
      - mysql_global_status_select_full_join
      - mysql_global_status_select_full_range_join
      - mysql_global_status_select_range
      - mysql_global_status_select_range_check
      - mysql_global_status_select_scan
      - mysql_global_status_sort_rows
      - mysql_global_status_sort_range
      - mysql_global_status_sort_merge_passes
      - mysql_global_status_sort_scan
      - mysql_global_status_slow_queries
      - mysql_global_status_aborted_connects
      - mysql_global_status_aborted_clients
      - mysql_global_status_table_locks_immediate
      - mysql_global_status_table_locks_waited
      - mysql_global_status_bytes_received
      - mysql_global_status_bytes_sent
      - mysql_global_variables_innodb_buffer_pool_size
      - mysql_global_status_innodb_buffer_pool_read_requests
      - mysql_global_status_innodb_buffer_pool_reads
      - mysql_global_status_innodb_page_size
      - mysql_global_status_buffer_pool_pages
      - mysql_global_variables_innodb_log_buffer_size
      - mysql_global_variables_innodb_additional_mem_pool_size
      - mysql_global_status_innodb_mem_dictionary
      - mysql_global_variables_key_buffer_size
      - mysql_global_variables_query_cache_size
      - mysql_global_status_innodb_mem_adaptive_hash
      - mysql_global_variables_tokudb_cache_size
      - mysql_global_status_commands_total
      - mysql_global_status_handlers_total
      - mysql_global_status_qcache_free_memory
      - mysql_global_status_qcache_hits
      - mysql_global_status_qcache_inserts
      - mysql_global_status_qcache_not_cached
      - mysql_global_status_qcache_lowmem_prunes
      - mysql_global_status_qcache_queries_in_cache
      - mysql_global_status_opened_files
      - mysql_global_status_open_files
      - mysql_global_variables_open_files_limit
      - mysql_global_status_innodb_num_open_files
      - mysql_global_status_opened_tables
      - mysql_global_status_table_open_cache_hits
      - mysql_global_status_table_open_cache_misses
      - mysql_global_status_table_open_cache_overflows
      - mysql_global_status_open_tables
      - mysql_global_variables_table_open_cache
      - mysql_global_status_open_table_definitions
      - mysql_global_variables_table_definition_cache
      - mysql_global_status_opened_table_definitions
      - mysql_global_status_uptime
    cortex:
      - cortex_ring_members
      - cortex_alertmanager_nflog_query_errors_total
      - cortex_compactor_block_cleanup_completed_total
      - cortex_ingester_dropped_chunks_total
      - cortex_ingester_active_series
      - cortex_ingester_queries_total
      - cortex_ingester_memory_series
      - cortex_distributor_ingestion_rate_samples_per_second
      - cortex_ingester_tsdb_wal_replay_duration_seconds_sum
      - cortex_distributor_inflight_push_requests
      - cortex_request_duration_seconds_count
      - cortex_ingester_chunk_age_seconds_bucket
      - cortex_request_duration_seconds_bucket
      - cortex_query_frontend_queue_length
      - cortex_chunk_store_index_lookups_per_query_bucket
      - cortex_chunk_store_chunks_per_query_sum
      - cortex_chunk_store_index_lookups_per_query_sum
      - cortex_ingester_flush_queue_length
    es:
      - elasticsearch_breakers_tripped
      - elasticsearch_process_cpu_percent
      - elasticsearch_jvm_memory_max_bytes
      - elasticsearch_jvm_memory_used_bytes
      - elasticsearch_cluster_health_number_of_nodes
      - elasticsearch_cluster_health_number_of_data_nodes
      - elasticsearch_cluster_health_number_of_pending_tasks
      - elasticsearch_process_open_files_count
      - elasticsearch_cluster_health_active_primary_shards
      - elasticsearch_cluster_health_active_shards
      - elasticsearch_cluster_health_initializing_shards
      - elasticsearch_cluster_health_relocating_shards
      - elasticsearch_cluster_health_delayed_unassigned_shards
      - elasticsearch_cluster_health_unassigned_shards
      - elasticsearch_jvm_gc_collection_seconds_count
      - elasticsearch_jvm_gc_collection_seconds_sum
      - elasticsearch_os_load1
      - elasticsearch_os_load5
      - elasticsearch_os_load15
      - elasticsearch_jvm_memory_pool_peak_used_bytes
      - elasticsearch_jvm_memory_committed_bytes
      - elasticsearch_filesystem_data_available_bytes
      - elasticsearch_filesystem_data_size_bytes
      - elasticsearch_transport_tx_size_bytes_total
      - elasticsearch_transport_rx_size_bytes_total
      - elasticsearch_indices_docs
      - elasticsearch_indices_indexing_index_total
      - elasticsearch_indices_docs_deleted
      - elasticsearch_indices_merges_docs_total
      - elasticsearch_indices_merges_total_size_bytes_total
      - elasticsearch_indices_search_query_time_seconds
      - elasticsearch_indices_indexing_index_time_seconds_total
      - elasticsearch_indices_merges_total_time_seconds_total
      - elasticsearch_indices_store_throttle_time_seconds_total
      - elasticsearch_indices_docs_primary
      - elasticsearch_indices_store_size_bytes_primary
      - elasticsearch_indices_store_size_bytes_total
      - elasticsearch_indices_segment_index_writer_memory_bytes_primary
      - elasticsearch_indices_segment_index_writer_memory_bytes_total
      - elasticsearch_cluster_health_status
    loki:
      - loki_request_duration_seconds_bucket
      - loki_request_duration_seconds_count
      - loki_distributor_lines_received_total
      - loki_s3_request_duration_seconds_bucket
      - loki_s3_request_duration_seconds_count
      - loki_distributor_bytes_received_total
      - loki_boltdb_shipper_request_duration_seconds_bucket
      - loki_boltdb_shipper_request_duration_seconds_count
      - loki_ingester_memory_streams
      - loki_ingester_streams_created_total
      - loki_ingester_chunks_flushed_total
      - loki_chunk_store_deduped_chunks_total
      - loki_ingester_chunk_size_bytes_bucket
      - loki_ingester_memory_chunks
      - loki_ingester_chunk_utilization_bucket
      - loki_ingester_chunk_utilization_sum
      - loki_ingester_chunk_utilization_count
      - loki_ingester_chunk_age_seconds_bucket
      - loki_ingester_chunk_age_seconds_sum
      - loki_ingester_chunk_age_seconds_count
      - loki_ingester_chunk_entries_bucket
      - loki_ingester_chunk_entries_count
      - loki_ingester_chunk_entries_sum
      - loki_chunk_store_index_entries_per_chunk_sum
      - loki_chunk_store_index_entries_per_chunk_count
      - loki_ingester_chunk_bounds_hours_bucket
      - loki_ingester_chunk_bounds_hours_sum
      - loki_ingester_chunk_bounds_hours_count
    mongo:
      - mongodb_network_bytes_total
      - mongodb_connections
      - mongodb_mongod_wiredtiger_cache_bytes_total
      - mongodb_mongod_wiredtiger_concurrent_transactions_total_tickets
      - mongodb_mongod_global_lock_current_queue
      - mongodb_mongod_metrics_cursor_open
      - mongodb_mongod_metrics_cursor_timed_out_total
      - mongodb_op_counters_total
      - mongodb_mongod_metrics_document_total
      - mongodb_mongod_metrics_query_executor_total
      - mongodb_instance_uptime_seconds
    istio:
      - istio_request_duration_seconds_bucket
      - istio_request_duration_milliseconds_bucket
      - istio_tcp_received_bytes_total
      - istio_tcp_sent_bytes_total
      - istio_build
      - istio_requests_total
      - istio_request_bytes_bucket
      - istio_response_bytes_bucket
    postgresql:
      - pg_settings_shared_buffers_bytes
      - pg_stat_activity_count
      - pg_locks_count
      - pg_stat_database_xact_commit
      - pg_stat_database_xact_rollback
      - pg_stat_database_blk_read_time
      - pg_stat_database_blk_write_time
      - pg_settings_max_worker_processes
      - pg_settings_work_mem_bytes
      - pg_settings_max_parallel_workers
      - pg_static
      - pg_settings_max_connections
      - pg_settings_effective_cache_size_bytes
      - pg_settings_maintenance_work_mem_bytes
      - pg_settings_max_wal_size_bytes
      - pg_settings_random_page_cost
      - pg_settings_seq_page_cost
      - pg_stat_activity_max_tx_duration
      - pg_stat_archiver_archived_count
      - pg_stat_database_conflicts
      - pg_stat_database_deadlocks
      - pg_stat_database_temp_bytes
      - pg_stat_database_blks_read
      - pg_stat_database_blks_hit
      - pg_stat_bgwriter_buffers_backend
      - pg_stat_bgwriter_buffers_alloc
      - pg_stat_bgwriter_buffers_backend_fsync
      - pg_stat_bgwriter_buffers_checkpoint
      - pg_stat_bgwriter_buffers_clean
      - pg_stat_bgwriter_checkpoint_write_time
      - pg_stat_bgwriter_checkpoint_sync_time
      - pg_stat_database_tup_fetched
      - pg_stat_database_tup_inserted
      - pg_stat_database_tup_updated
      - pg_stat_database_tup_deleted
      - pg_stat_database_tup_returned
    harbor:
      - harbor_up
      - harbor_project_quota_usage_byte
      - harbor_health
      - harbor_project_artifact_total
      - harbor_artifact_pulled
      - harbor_core_http_request_total
      - harbor_core_http_request_duration_seconds
      - registry_http_requests_total
      - registry_http_request_duration_seconds_bucket
      - registry_storage_cache_total
    argocd:
      - argocd_cluster_info
      - argocd_app_info
      - argocd_app_sync_total
      - argocd_app_reconcile_count
      - argocd_app_reconcile_bucket
      - argocd_cluster_api_resource_objects
      - argocd_cluster_api_resources
    ingress:
      - nginx_ingress_controller_requests
      - nginx_ingress_controller_nginx_process_connections
      - nginx_ingress_controller_success
      - nginx_ingress_controller_config_last_reload_successful
      - nginx_ingress_controller_request_size_sum
      - nginx_ingress_controller_response_size_sum
      - nginx_ingress_controller_nginx_process_resident_memory_bytes
      - nginx_ingress_controller_nginx_process_cpu_seconds_total
      - nginx_ingress_controller_request_duration_seconds_bucket
    oss:
      - kubelet_node_config_error
      - go_goroutines
      - storage_operation_duration_seconds_count
      - storage_operation_errors_total
      - storage_operation_duration_seconds_bucket
      - rest_client_requests_total
      - rest_client_request_duration_seconds_bucket
      - kubernetes_events
      - workqueue_adds_total
      - workqueue_depth
      - workqueue_queue_duration_seconds_bucket
      - pilot_k8s_cfg_events
      - process_start_time_seconds
      - probe_ssl_earliest_cert_expiry
      - probe_dns_lookup_time_seconds
      - probe_http_duration_seconds
      - probe_http_status_code
      - probe_duration_seconds
      - shared_memory_used_bytes_gauge
